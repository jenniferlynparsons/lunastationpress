---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
  title: string;
  author: string;
  heroImage: string;
}

const { title, author, heroImage } = Astro.props;

const fullImagePath = `/src/assets/cover-heros/${heroImage}`;
const images = import.meta.glob<{ default: ImageMetadata }>("/src/assets/cover-heros/*.{jpeg,jpg,png,gif}");

if (!images[fullImagePath]) {
  console.warn(`Hero image "${fullImagePath}" not found`);
}
---

<section class="relative py-24 md:py-32 flex items-center justify-center overflow-hidden min-h-[60vh]">
  <!-- Background Image -->
  {
    images[fullImagePath] && (
      <div class="absolute inset-0 z-0">
        <Image src={images[fullImagePath]()} alt="" class="w-full h-full object-cover" loading="eager" />
        <div class="absolute inset-0 bg-black bg-opacity-40" />
      </div>
    )
  }

  <!-- Content -->
  <div class="relative z-10 text-center text-white px-4">
    <h1 class="text-4xl md:text-5xl lg:text-6xl font-light tracking-wide mb-4">
      {title}
    </h1>
    <p class="text-xl md:text-2xl font-light opacity-90 max-w-2xl mx-auto">
      by {author}
    </p>
  </div>
</section>
